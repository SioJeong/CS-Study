# 네트워크 기기

## 📌 면접 예상 질문

<details>
  <summary>Q1. 네트워크에서 로드밸런서를 사용하는 이유는 무엇인가요?</summary>
  </br>
  <p>로드밸런서는 다수의 서버에 트래픽을 균등하게 분산하여 성능과 안정성을 높이기 위해 사용됩니다. 예를 들어, 하나의 서버에 모든 요청이 집중되면 과부하가 발생하고, 서비스 속도가 저하될 수 있습니다.</p>
  <p>이를 방지하기 위해 로드밸런서를 활용하여 요청을 여러 서버로 분산시키고, 특정 서버가 다운되더라도 정상적인 서버로 트래픽을 전달하여 서비스 지속성을 유지합니다. 클라우드 환경에서는 ALB(Application Load Balancer), NLB(Network Load Balancer) 등의 형태로 활용됩니다.</p>
</details>

<details>
  <summary>Q2. L4 스위치와 L7 스위치의 차이점은 무엇인가요?</summary>
  </br>
  <p>L4 스위치는 전송 계층에서 작동하며, IP 주소와 포트 번호를 기반으로 트래픽을 분산합니다.
반면, L7 스위치는 애플리케이션 계층에서 작동하며, HTTP 헤더, 쿠키, URL 패턴 등을 분석하여 더 정교한 트래픽 분산이 가능합니다.</p>
  <p>L7 스위치는 세션 지속성(Sticky Session)과 SSL 오프로딩 기능도 제공하여 웹 서비스에서 더 많이 활용됩니다.</p>
</details>

<details>
  <summary>Q3. MAC 주소란 무엇이며, IP 주소와의 차이점은 무엇인가요?</summary>
  </br>
  <p>MAC 주소란 네트워크 인터페이스 카드(NIC)에 내장된 고유한 식별자로, 장치가 동일 네트워크 내에서 서로를 인식하고 통신할 수 있도록 합니다.</p>
  <p>MAC 주소는 로컬 네트워크에서 장치 식별을 담당하고, IP 주소는 네트워크 간 데이터를 전달할 때 사용됩니다.IP 주소가 변경되더라도 MAC 주소는 그대로 유지되며, ARP(Address Resolution Protocol)를 이용해 IP 주소와 MAC 주소 간 매핑이 이루어집니다.</p>
</details>

<br>
<br>

## 📌 내용 정리
### 네트워크 기기의 처리 범위
- 네트워크 기기는 계층별로 처리 범위를 나눌 수 있다.
- 상위 계층을 처리하는 기기는 하위 계층을 처리할 수 있지만, 반대는 불가하다.

<br>

#### 계층별 기기
| 계층 | 네트워크 기기 |
|------|--------------|
| **애플리케이션 계층 (L7)** | L7 스위치 (로드밸런서) |
| **전송 계층 (L4)** | L4 스위치 |
| **인터넷 계층 (L3)** | 라우터, L3 스위치 |
| **데이터 링크 계층 (L2)** | L2 스위치, 브리지 |
| **물리 계층 (L1)** | NIC, 리피터, AP |

<br>
<br>

---

<br>
<br>

### 애플리케이션 계층을 처리하는 기기
#### L7 스위치
> 여러 장비를 연결하고 데이터 통신을 중재하며 목적지가 연결된 포트로만 전기 신호를 보내 데이터를 전송하는 통신 네트워크 장비
- 여러 서버를 연결하고 부하를 분산하는 장비로, **로드밸런서**라고도 부른다.
- 클라이언트의 요청을 여러 서버에 분산하여 **트래픽 증가에 대응**할 수 있도록 한다.
- **세션 지속성 (Sticky Session) 지원**: 특정 클라이언트의 요청을 같은 서버로 지속적으로 연결 가능
- **SSL 오프로딩 지원**: HTTPS 암호화 처리 부담을 서버가 아닌 L7 스위치에서 수행하여 성능 향상

<br>

#### L4 스위치 vs L7 스위치
| 구분 | L4 스위치 | L7 스위치 |
|------|----------|----------|
| 계층 | 전송 계층 (L4) | 애플리케이션 계층 (L7) |
| 로드밸런싱 기준 | IP, 포트 기반 | URL, HTTP 헤더, 쿠키 기반 |
| 사용 예시 | 네트워크 트래픽 최적화 | 스트리밍 서비스, 웹 서버 부하 분산 |
| 클라우드 서비스 예시 | NLB (Network Load Balancer) | ALB (Application Load Balancer) |

<br>

#### 헬스 체크
> 전송 주기와 재전송 횟수 등을 설정한 이후 반복적으로 서버에 요청을 보내는 것을 의미
- L4, L7 스위치 모두 스위치 모두 주기적으로 서버 상태를 점검하여 장애를 감지한다.
- 서버에 부하가 되지 않을 만큼 요청 횟수가 적절해야 한다.

<br>

#### 로드밸런서를 이용한 서버 이중화
> 2대 이상의 서버를 기반으로 가상 IP를 제공하고, 이를 기반으로 안정적인 서비스를 제공

![image](https://github.com/user-attachments/assets/71ea09a5-82a9-4eb0-a5bf-3c9b59c7d84f)
> (이미지 참고) https://www.cloudv.kr/etc/lb.html
- **2대 이상의 서버가 필수적**이며, 로드밸런서를 통해 가상 IP를 제공하여 안정적인 서비스를 유지한다.

<br>
<br>

---

<br>
<br>

### 인터넷 계층을 처리하는 기기
#### 라우터
- 여러 개의 네트워크를 연결, 분할, 구분시켜주는 역할을 한다.
- 다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고 받을 때 **패킷 소모를 최소화**하고, **경로를 최적화**하여 **최소 경로로 패킷을 포워딩** 한다.

<br>

#### L3 스위치
> L2 스위치의 기능 + 라우팅 기능을 갖춘 장비
- L3 스위치는 **하드웨어 기반의 라우팅**을 수행하여 속도가 빠르다.
- 라우터는 **소프트웨어 기반의 라우팅**을 수행하며 다양한 네트워크 프로토콜을 지원 (예: OSPF, BGP 등)한다.
    
<br>
<br>

---

<br>
<br>

### 데이터 링크 계층을 처리하는 기기
#### L2 스위치
- **MAC 주소 테이블**을 기반으로 장치 간 패킷 전송을 담당한다.
- IP 기반 라우팅은 불가능하며, **단순 패킷 스위칭 역할**을 수행한다.

<br>

#### 브리지
![image](https://github.com/user-attachments/assets/657d2095-8eb9-4d07-bd26-60a13b746918)
- 두 개의 근거리 통신망(LAN)을 상호 접속할 수 있도록 하는 통신망 연결 장치이다.
- 포트와 포드 사이의 다리 역할을 한다.
- 장치에서 받아온 MAC 주소를 MAC 주소 테이블로 관리한다.

<br>

#### 브리지 vs 스위치

| 구분 | 브리지 | L2 스위치 |
|------|--------|----------|
| 주요 역할 | 두 개의 LAN 연결 | 여러 개의 포트를 통해 네트워크 확장 |
| 동작 방식 | 소프트웨어 기반 | 하드웨어 기반 (속도 빠름) |
| 관리 방식 | MAC 주소 기반 | MAC 주소 기반 |

<br>
<br>

---

<br>
<br>

### 물리 계층을 처리하는 기기
#### NIC
- LAN 카드라고 하는 네트워크 인터페이스 카드(Network Interface Card)는 2대 이상의 컴퓨터 네트워크를 구성하는 데 사용한다.
- 네트워크와 빠른 속도로 데이터를 송수신할 수 있도록 컴퓨터 내부에 설치하는 확장 카드이다.
- 각 NIC에는 **고유한 MAC 주소**가 부여된다.
  
<br>

#### MAC 주소 vs IP 주소
| 구분 | MAC 주소	| IP 주소 |
|------|--------|----------|
| 유형	| 하드웨어 주소 (물리적) |	논리적 주소 |
| 변경 가능 여부	| 고정 (일반적으로 변경 불가)	| 동적 변경 가능 (DHCP 활용) |
| 사용 계층 |	데이터 링크 계층 (L2) |	인터넷 계층 (L3) |
| 역할 |	같은 네트워크 내에서 장치 간 식별 |	네트워크 간 통신 및 패킷 라우팅 |

<br>

#### 리피터
- **신호를 증폭**하여 장거리 데이터 전송을 가능하게 합니다.
- **광케이블이 보급되면서 잘 사용되지 않음**, 하지만 산업용 네트워크 등 특정 환경에서는 여전히 사용됨.

<br>

#### AP
- AP(Access Point) 패킷을 복사하는 기기이다.
- 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술(와이파이)를 사용하여 무선 네트워크 연결을 할 수 있다.
- 여러 AP를 연결하여 **로밍 기능**을 지원하면 이동 중에도 안정적인 연결 유지가 가능하다.
