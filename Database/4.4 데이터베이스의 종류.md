# 데이터베이스의 종류

## 📌 면접 예상 질문

<details>
  <summary>Q1. 프로젝트에서 Redis를 사용한 특정한 이유가 있을까요?</summary>
  </br>

  Memcached는 Key-Value의 저장 방식만 지원하지만, Redis는 Key-Value 뿐만 아니라, List, Sorted Set, Hash 등 다양한 자료구조를 제공하여 사용하였습니다.
  > 그럼 꼬리 질문으로 무슨 자료구조 썼는지 물어봄.

</details>

<details>
  <summary>Q2. RDB와 NOSQL의 차이를 말씀해주세요. </summary>
  </br>
  RDB는 관계형 데이터베이스로 테이블 기반의 구조를 갖고있습니다. 고정된 스키마가 필요하고 강력한 ACID를 보장합니다.
    
  NoSQL은 비관계형 데이터베이스로 Key-Value 혹은 Document 등 다양한 구조를 갖고 있습니다. 스키마가 유동적이기 때문에 확장성이 뛰어납니다.

</details>

<details>
  <summary>Q3. Redis를 사용하다가 데이터가 휘발되면 어떻게 할 것인지 </summary>
  </br>
  
  스냅샷을 활용하여 일정 주기마다 데이터를 디스크에 영속화 하여 이를 활용하여 데이터를 복구하겠습니다.
  혹은 AOF를 활용하여 로깅을 통해 장애 발생 시 복원하겠습니다.

</details>

## 📌 내용 정리

## 1. 관계형 데이터 베이스 (RDBMS)

> 관계형 데이터베이스는 행과 열을 가지는 표 형태의 데이터를 저장하는 형태의 데이터베이스를 가리킨다. SQL(Structured Query Language)라는 언어를 사용해서 조작하며 대표적인 RDBMS로는 MySQL, PostgreSQL, Oracle, MSSQL, Tibero 등이 있다.

---

### MySQL
> 대부분의 운영체제와 호환되며 현재 가장 많이 사용하는 데이터베이스이다.   
C, C++로 만들어 졌고 인덱스 압축 기술, 인덱스(최대 64개), 스레드 기반의 메모리 할당 시스템, 빠른 조인을 제공한다. 


![아키텍처](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FQMJu5%2FbtslMpGal2n%2F4chNu0Kel0myxjuI3yqdM1%2Fimg.png)  
[MySQL 스토리지 엔진 아키텍처]

- 모듈식 아키텍처로 쉽게 스토리지 엔진을 바꿀 수 있으며, 데이터 웨어하우징, 트랜잭션 처리, 고가용성 처리에 강점이 있음.  
- 쿼리 캐시를 지원해서 입력된 쿼리문에 대한 전체 결과 집합을 저장하기 때문에 최적화 및 실행을 건너뛰고 캐시의 출력만 표시.

#### 장점
- 빠른 읽기/쓰기 성능과 높은 호환성
- 간편한 설치 및 설정으로 접근성 높음
- 오픈소스 기반의 다양한 커뮤니티 및 레퍼런스  
#### 단점
- 데이터 무결성 및 ACID 지원이 PostgreSQL보다 약함
- 복잡한 트랜잭션 처리에 상대적으로 취약
- 기본적인 확장성이 부족하여 대규모 데이터 처리에는 한계가 있음

---

### PostgreSQL
> 객체-관계형 DBMS (ORDBMS)의 하나이다. C로 만들어 졌다.

- 디스크 조각이 차지하는 영역을 회수할 수 있는 장치인 VACUUM이 특징  
- 최대 테이블의 크기: 32TB
- SQL뿐만 아니라 JSON을 이용해서 데이터에 접근할 수 있음
- 지정 시간에 복구하는 기능, 로깅, 접근 제어, 중첩된 트랜잭션, 백업 등을 할 수 있음

#### 장점
- ACID 준수와 강력한 데이터 무결성 보장
- JSON을 포함한 다양한 데이터 타입 및 확장성 제공
- 복잡한 트랜잭션 처리 및 동시성 제어에 강점

#### 단점
- 설정 및 운영이 복잡함
- 무거운 성능 오버헤드
- 읽기 성능이 MySQL에 비해 상대적으로 느릴 수 있음

---

## 2. NoSQL (Not Only SQL)  
> SQL을 사용하지 않는 데이터베이스이며, 대표적으로 MongoDB, Redis, Cassandra 등이 있다.

### MongoDB
> MongoDB는 JSON을 통해 데이터에 접근할 수 있고, Binary JSON 형태(BSON)로 데이터가 저장되며 와이어드타이거 엔진이 기본 스토리지 엔진으로 장착된 Key-Value 데이터 모델에서 확장된 도큐먼트 기반의 데이터베이스이다.  

- 확장성이 뛰어나며 빅데이터를 저장할 때 성능이 좋음
- 고가용성과 샤딩, 레플리카셋을 지원
- 스키마를 정해 놓지 않고 데이터를 삽입할 수 있기 때문에 다양한 도메인의 데이터베이스를 기반으로 분석하거나 로깅 등을 구현시 강점
- 도큐먼트를 생성할 때마다 다른 컬렉션에서 중복된 값을 지니기 힘든 유니크한 값인 ObjectID가 생성됨

#### 장점
- 스키마리스(Schema-less) 구조로 유연한 데이터 모델링 가능
- 뛰어난 확장성과 높은 성능 제공
- JSON 기반의 직관적인 데이터 처리 방식  

#### 단점
- 관계형 데이터베이스에 비해 트랜잭션 지원이 부족함
- 데이터 일관성 유지가 어려울 수 있음
- 높은 메모리 사용량

### Redis(Remote Dictionary Server)  
> 인메모리 데이터베이스(캐시 메모리)이고 Key-Value 데이터 모델 기반의 DB이다. 

![자료형](https://velog.velcdn.com/images%2Ftilsong%2Fpost%2F46312805-39d3-4de8-b495-f64539b29793%2Fimage.png)
[지원 자료형]  
위와 같이 다양한 자료형을 지원한다. Hashes = Java Collection의 HashMap과 유사. Sorted Sets 는 TreeSet과 유사하다.

![메모리 구조](https://velog.velcdn.com/images%2Ftilsong%2Fpost%2F75eac7f8-619a-414e-87ef-a40ea5603716%2Fimage.png)  
데이터를 저장하고 조회할 때, 하드디스크를 오가는 과정을 거치지 않고, 메모리(DRAM) 내부에서 처리가 되므로 기존 disk DB 대비 훨씬 빠른 성능을 보여준다.

#### 장점
- 매우 빠른 읽기/쓰기 속도
- 캐싱 기능으로 성능 최적화 가능
- 분산 시스템 및 메시지 큐 기능 지원
#### 단점
- 데이터가 메모리에 저장되므로 데이터 용량이 제한적임
- 복잡한 쿼리 기능 부족
- 컴퓨터가 꺼질 경우 데이터가 휘발됨

### Cassandra  
> Apache에서 개발한 분산형 데이터베이스로, 대용량 데이터를 빠르게 처리하는 데 최적화 되어있다. 분산 아키텍처를 기반으로 뛰어난 확장성과 고가용성을 제공한다. 노드 간 데이터 복제를 통해 장애 복구가 용이하다.

#### 장점
- 수평 확장성이 뛰어나며, 대규모 트래픽 처리에 용이
- 쓰기 성능이 뛰어나며, 대량 데이터 처리에 적합
  
#### 단점
- RDB에 비해 복잡한 쿼리 지원 부족
- 높은 유지보수 비용
- 일관성 유지가 어려움.